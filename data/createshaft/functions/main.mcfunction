execute as @e[type=firework_rocket,nbt={FireworksItem:{tag:{createitem:1b}}}] at @s align xyz positioned ~0.5 ~-0.9375 ~0.5 unless entity @e[tag=create_shaft,distance=..0.1] positioned ~ ~1 ~ run function createshaft:create
execute as @e[type=firework_rocket,nbt={FireworksItem:{tag:{createitem:1b}}}] at @s align xyz positioned ~0.5 ~-0.9375 ~0.5 if entity @e[tag=create_shaft,distance=..0.1] run summon minecraft:item ~ ~1.5 ~ {Item:{id:"minecraft:firework_rocket",Count:1b,tag:{display:{Name:'{"translate":"item.create.shaft","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}',Lore:['{"text":"Create","color":"dark_blue","bold":true,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}']},CustomModelData:2180001,createitem:1b,Fireworks:{}}}}
execute as @e[type=firework_rocket,nbt={FireworksItem:{tag:{createitem:1b}}}] at @s align xyz positioned ~0.5 ~-0.9375 ~0.5 if entity @e[tag=create_shaft,distance=..0.1] run kill @s
execute as @e[tag=create_shaft] at @s unless block ~ ~1 ~ minecraft:end_rod run function createshaft:kill